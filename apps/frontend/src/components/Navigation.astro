---
/**
 * Navigation.astro - Sticky navigation bar
 * Zone: Neutral (uses Brutalist label style)
 * Layout: 3-column grid (Logo | Navigation | Portfolio)
 */

import { HEADER_HEIGHT } from "../config/design";

interface Props {
  logo: string;
  links: Array<{ href: string; text: string; group?: "main" | "right" }>;
}

const { logo, links } = Astro.props;

// Filter links based on group property
const rightLinks = links.filter((link) => link.group === "right");
const mainLinks = links.filter((link) => link.group !== "right");

const isExternalHref = (href: string) => /^https?:\/\//i.test(href);

const navStyle = `
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: 0 2rem;
  border-bottom: 1px solid var(--color-ink);
  position: sticky;
  top: 0;
  background: var(--color-paper);
  z-index: 100;
  height: ${HEADER_HEIGHT}px;
`;
---

<nav class="mono label" style={navStyle}>
  <div style="font-size: 1.25rem; letter-spacing: -0.05em; justify-self: start; padding-top: 0.375rem;">
    {logo}
  </div>

  <div style="display: flex; gap: 2rem; justify-self: center;">
    {mainLinks.map((link) => (
      <a
        href={link.href}
        target={isExternalHref(link.href) ? "_blank" : undefined}
        rel={isExternalHref(link.href) ? "noopener noreferrer" : undefined}
        class="baroque-link"
      >
        {link.text}
      </a>
    ))}
  </div>

  <div style="display: flex; gap: 2rem; justify-self: end;">
    {rightLinks.map((link) => (
      <a
        href={link.href}
        target={isExternalHref(link.href) ? "_blank" : undefined}
        rel={isExternalHref(link.href) ? "noopener noreferrer" : undefined}
        class="baroque-link"
        style="display: inline-block;"
      >
        {link.text}
      </a>
    ))}
  </div>
</nav>
